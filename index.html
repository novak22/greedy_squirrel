<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
        <title>Greedy Squirrel - Slot Machine</title>
        <link rel="stylesheet" href="style.css" />
    </head>
    <body>
        <div class="game-container">
            <div class="game-header">
                <h1><span class="squirrel-flip">üêøÔ∏è</span> GREEDY SQUIRREL üêøÔ∏è</h1>

                <!-- Phase 3: Level Display -->
                <div id="levelDisplay" class="level-display"></div>

                <div class="info-panel">
                    <div class="info-item">
                        <span class="label">CREDITS</span>
                        <span class="value" id="credits">1000</span>
                    </div>
                    <div class="info-item">
                        <span class="label">BET</span>
                        <span class="value" id="bet">10</span>
                    </div>
                    <div class="info-item">
                        <span class="label">WIN</span>
                        <span class="value" id="win">0</span>
                    </div>
                </div>
            </div>

            <div class="slot-machine">
                <div class="reels-container">
                    <div class="reel" id="reel-0">
                        <div class="symbol-container"></div>
                    </div>
                    <div class="reel" id="reel-1">
                        <div class="symbol-container"></div>
                    </div>
                    <div class="reel" id="reel-2">
                        <div class="symbol-container"></div>
                    </div>
                    <div class="reel" id="reel-3">
                        <div class="symbol-container"></div>
                    </div>
                    <div class="reel" id="reel-4">
                        <div class="symbol-container"></div>
                    </div>
                </div>

                <div class="paylines">
                    <div class="payline payline-1"></div>
                    <div class="payline payline-2"></div>
                    <div class="payline payline-3"></div>
                    <div class="payline payline-4"></div>
                    <div class="payline payline-5"></div>
                    <div class="payline payline-6"></div>
                    <div class="payline payline-7"></div>
                    <div class="payline payline-8"></div>
                    <div class="payline payline-9"></div>
                    <div class="payline payline-10"></div>
                </div>

                <div class="win-overlay" id="winOverlay"></div>
            </div>

            <div class="controls">
                <div class="bet-controls">
                    <button class="btn btn-bet" id="decreaseBet">-</button>
                    <span class="bet-display">BET: <span id="betDisplay">10</span></span>
                    <button class="btn btn-bet" id="increaseBet">+</button>
                </div>

                <button class="btn btn-spin" id="spinBtn">
                    <span class="spin-text">SPIN</span>
                </button>

                <button class="btn btn-max" id="maxBet">MAX BET</button>
            </div>

            <!-- Phase 4: Advanced Controls -->
            <div class="advanced-controls">
                <button class="btn btn-small" id="autoplayBtn">PLAY</button>
                <button class="btn btn-small" id="turboBtn">üöÄ TURBO</button>
                <button class="btn btn-small" id="autoCollectBtn">COLLECT</button>
                <!-- Phase 5: Buy Bonus Button -->
                <button class="btn btn-small" id="buyBonusBtn">üéÅ BUY BONUS</button>
                <div class="autoplay-counter" id="autoplayCounter" style="display: none"></div>
            </div>

            <div class="paytable-toggle">
                <button class="btn btn-small" id="paytableBtn">PAYTABLE</button>
                <!-- Phase 3: Stats Button -->
                <button class="btn btn-small" id="statsBtn">STATS</button>
                <!-- Phase 4: Settings Button -->
                <button class="btn btn-small" id="settingsBtn">‚öôÔ∏è</button>
                <!-- Phase 5: History Button -->
                <button class="btn btn-small" id="historyBtn">üìú HISTORY</button>
            </div>
        </div>

        <!-- Phase 2: Feature UI Elements -->
        <div id="freeSpinsUI" class="free-spins-ui"></div>
        <div id="cascadeMultiplier" class="cascade-multiplier-ui"></div>
        <div id="featureOverlay" class="feature-overlay"></div>
        <div id="bonusGameUI" class="bonus-game-ui"></div>

        <!-- Phase 3: Progression UI Elements -->
        <div id="achievementNotification" class="achievement-notification"></div>
        <div id="challengesDisplay" class="challenges-display"></div>

        <div class="paytable-modal" id="paytableModal">
            <div class="paytable-content">
                <button class="close-btn" id="closePaytable">&times;</button>
                <h2>PAYTABLE</h2>

                <div class="special-symbols-section">
                    <h3>SPECIAL SYMBOLS</h3>
                    <div class="paytable-grid">
                        <div class="paytable-item special">
                            <div class="symbol-display">üÉè</div>
                            <div class="symbol-name">WILD Card</div>
                            <div class="payouts">Substitutes for regular symbols</div>
                            <div class="symbol-desc">Appears on reels 2, 3, 4</div>
                        </div>
                        <div class="paytable-item special">
                            <div class="symbol-display">‚≠ê</div>
                            <div class="symbol-name">SCATTER Star</div>
                            <div class="payouts">5x: 500 | 4x: 100 | 3x: 20</div>
                            <div class="symbol-desc">Pays anywhere on reels</div>
                        </div>
                        <div class="paytable-item special">
                            <div class="symbol-display">üéÅ</div>
                            <div class="symbol-name">BONUS Gift</div>
                            <div class="payouts">3+ triggers Bonus Round</div>
                            <div class="symbol-desc">Appears on reels 1, 3, 5</div>
                        </div>
                    </div>
                </div>

                <div class="regular-symbols-section">
                    <h3>REGULAR SYMBOLS</h3>
                    <div class="paytable-grid">
                        <div class="paytable-item">
                            <div class="symbol-display">üëë</div>
                            <div class="payouts">5x: 200 | 4x: 40 | 3x: 10</div>
                            <div class="symbol-name">Golden Crown</div>
                        </div>
                        <div class="paytable-item">
                            <div class="symbol-display">üíé</div>
                            <div class="payouts">5x: 150 | 4x: 30 | 3x: 8</div>
                            <div class="symbol-name">Diamond</div>
                        </div>
                        <div class="paytable-item">
                            <div class="symbol-display">üå∞</div>
                            <div class="payouts">5x: 100 | 4x: 25 | 3x: 5</div>
                            <div class="symbol-name">Premium Acorn</div>
                        </div>
                        <div class="paytable-item">
                            <div class="symbol-display">ü•ú</div>
                            <div class="payouts">5x: 100 | 4x: 25 | 3x: 5</div>
                            <div class="symbol-name">Peanuts</div>
                        </div>
                        <div class="paytable-item">
                            <div class="symbol-display">üåª</div>
                            <div class="payouts">5x: 80 | 4x: 20 | 3x: 4</div>
                            <div class="symbol-name">Sunflower Seeds</div>
                        </div>
                        <div class="paytable-item">
                            <div class="symbol-display">üçÑ</div>
                            <div class="payouts">5x: 60 | 4x: 15 | 3x: 3</div>
                            <div class="symbol-name">Mushroom</div>
                        </div>
                        <div class="paytable-item">
                            <div class="symbol-display">üå≤</div>
                            <div class="payouts">5x: 40 | 4x: 10 | 3x: 2</div>
                            <div class="symbol-name">Pine Cone</div>
                        </div>
                        <div class="paytable-item">
                            <div class="symbol-display">üçÇ</div>
                            <div class="payouts">5x: 20 | 4x: 8 | 3x: 2</div>
                            <div class="symbol-name">Autumn Leaf</div>
                        </div>
                    </div>
                </div>

                <div class="paylines-info">
                    <h3>10 PAYLINES</h3>
                    <p>Win from left to right on active paylines</p>
                    <p class="scatter-note">‚≠ê SCATTER pays anywhere regardless of paylines</p>
                </div>

                <div class="features-info">
                    <h3>BONUS FEATURES</h3>
                    <div class="feature-list">
                        <div class="feature-item">
                            <div class="feature-icon">‚≠ê</div>
                            <div class="feature-text">
                                <strong>FREE SPINS</strong>
                                <p>
                                    3+ SCATTER symbols triggers 10-25 free spins with 2x-3x
                                    multiplier!
                                </p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">üéÅ</div>
                            <div class="feature-text">
                                <strong>BONUS ROUND</strong>
                                <p>
                                    3+ BONUS symbols on payline triggers Pick-Me game with instant
                                    prizes!
                                </p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">üî•</div>
                            <div class="feature-text">
                                <strong>CASCADING WINS</strong>
                                <p>
                                    Winning symbols disappear, new ones fall. Multiplier increases:
                                    1x, 2x, 3x, 5x, 8x!
                                </p>
                                <p class="feature-note">(Enable in game settings)</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Phase 3: Statistics Modal -->
        <div class="stats-modal" id="statsModal">
            <div class="stats-content">
                <button class="close-btn" id="closeStats">&times;</button>
                <h2>STATISTICS & ACHIEVEMENTS</h2>

                <div class="stats-tabs">
                    <button class="stats-tab active" data-tab="session">Session</button>
                    <button class="stats-tab" data-tab="alltime">All-Time</button>
                    <button class="stats-tab" data-tab="achievements">Achievements</button>
                    <button class="stats-tab" data-tab="challenges">Challenges</button>
                </div>

                <div id="statsContentArea" class="stats-content-area">
                    <!-- Dynamically populated by game -->
                </div>
            </div>
        </div>

        <!-- Phase 4: Settings Modal -->
        <div class="settings-modal" id="settingsModal">
            <div class="settings-content">
                <button class="close-btn" id="closeSettings">&times;</button>
                <h2>SETTINGS</h2>

                <div class="settings-section">
                    <h3>üîä Audio</h3>
                    <div class="setting-item">
                        <label for="soundEnabled">Master Sound</label>
                        <input type="checkbox" id="soundEnabled" class="toggle-switch" checked />
                    </div>
                    <div class="setting-item">
                        <label for="musicEnabled">Music</label>
                        <input type="checkbox" id="musicEnabled" class="toggle-switch" checked />
                    </div>
                    <div class="setting-item">
                        <label for="effectsEnabled">Sound Effects</label>
                        <input type="checkbox" id="effectsEnabled" class="toggle-switch" checked />
                    </div>
                    <div class="setting-item">
                        <label for="volumeSlider"
                            >Volume: <span id="volumeSliderValue">50%</span></label
                        >
                        <input
                            type="range"
                            id="volumeSlider"
                            min="0"
                            max="1"
                            step="0.1"
                            value="0.5"
                        />
                    </div>
                </div>

                <div class="settings-section">
                    <h3>‚ú® Visual Effects</h3>
                    <div class="setting-item">
                        <label for="particlesEnabled">Particle Effects</label>
                        <input
                            type="checkbox"
                            id="particlesEnabled"
                            class="toggle-switch"
                            checked
                        />
                    </div>
                    <div class="setting-item">
                        <label for="animationsEnabled">Animations</label>
                        <input
                            type="checkbox"
                            id="animationsEnabled"
                            class="toggle-switch"
                            checked
                        />
                    </div>
                </div>

                <div class="settings-section">
                    <h3>ü§ñ Autoplay Settings</h3>
                    <div class="setting-item">
                        <label for="autoplaySpins">Number of Spins</label>
                        <input type="number" id="autoplaySpins" min="1" max="1000" value="10" />
                    </div>
                    <div class="setting-item">
                        <label for="stopOnWin">Stop on Any Win</label>
                        <input type="checkbox" id="stopOnWin" class="toggle-switch" />
                    </div>
                    <div class="setting-item">
                        <label for="stopOnBigWin">Stop on Big Win</label>
                        <input type="checkbox" id="stopOnBigWin" class="toggle-switch" checked />
                    </div>
                    <div class="setting-item">
                        <label for="bigWinMultiplier">Big Win Multiplier</label>
                        <input type="number" id="bigWinMultiplier" min="1" value="50" />
                    </div>
                    <div class="setting-item">
                        <label for="stopOnFeature">Stop on Feature Trigger</label>
                        <input type="checkbox" id="stopOnFeature" class="toggle-switch" />
                    </div>
                    <div class="setting-item">
                        <label for="stopOnBalance">Stop on Balance Increase</label>
                        <input type="checkbox" id="stopOnBalance" class="toggle-switch" />
                    </div>
                    <div class="setting-item">
                        <label for="balanceIncrease">Balance Increase Target</label>
                        <input type="number" id="balanceIncrease" min="1" value="1000" />
                    </div>
                    <div class="setting-item">
                        <label for="stopOnBalanceLow">Stop on Low Balance</label>
                        <input
                            type="checkbox"
                            id="stopOnBalanceLow"
                            class="toggle-switch"
                            checked
                        />
                    </div>
                    <div class="setting-item">
                        <label for="balanceLowLimit">Low Balance Limit</label>
                        <input type="number" id="balanceLowLimit" min="0" value="100" />
                    </div>
                </div>

                <!-- Phase 5: Data Management -->
                <div class="settings-section">
                    <h3>üóëÔ∏è Data Management</h3>
                    <div
                        class="setting-item"
                        style="flex-direction: column; align-items: center; gap: 15px"
                    >
                        <p style="color: #b0bec5; text-align: center; margin: 0">
                            Reset all game data including credits, progress, achievements, and
                            statistics.
                        </p>
                        <button class="btn-reset-data" id="resetDataBtn">RESET ALL DATA</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Phase 5: Spin History Panel -->
        <div class="history-panel" id="historyPanel">
            <div class="history-header">
                <h3>üìú Spin History</h3>
                <button class="history-close" id="closeHistory">&times;</button>
            </div>
            <div class="history-stats" id="historyStats"></div>
            <div class="history-list" id="historyList"></div>
        </div>

        <!-- Phase 5: Buy Bonus Modal -->
        <div class="buy-bonus-modal" id="buyBonusModal">
            <div class="buy-bonus-content">
                <!-- Dynamically populated by BuyBonus.js -->
            </div>
        </div>

        <script type="module" src="game.js"></script>
    </body>
</html>
